Version 4
SHEET 1 2900 1232
WIRE 1424 -256 1296 -256
WIRE 880 -240 464 -240
WIRE 1616 -224 1264 -224
WIRE -224 -208 -272 -208
WIRE 64 -208 32 -208
WIRE 240 -208 240 -320
WIRE 240 -208 64 -208
WIRE 496 -208 240 -208
WIRE 928 -208 496 -208
WIRE 1552 -192 1232 -192
WIRE 496 -160 496 -208
WIRE 544 -160 496 -160
WIRE 864 -160 720 -160
WIRE 1360 -160 1200 -160
WIRE 464 -128 464 -240
WIRE 544 -128 464 -128
WIRE 848 -128 720 -128
WIRE 1488 -128 1168 -128
WIRE 544 -96 240 -96
WIRE 832 -96 720 -96
WIRE -272 -80 -272 -208
WIRE -208 -80 -272 -80
WIRE -96 -80 -96 -112
WIRE -96 -80 -144 -80
WIRE -16 -80 -96 -80
WIRE 64 -80 64 -208
WIRE 64 -80 48 -80
WIRE 544 -64 480 -64
WIRE 816 -64 720 -64
WIRE -96 -48 -96 -80
WIRE 464 -32 240 -32
WIRE 544 -32 464 -32
WIRE 800 -32 720 -32
WIRE 880 -16 880 -240
WIRE 960 -16 880 -16
WIRE 1168 -16 1168 -128
WIRE 1168 -16 1136 -16
WIRE 1728 -16 1680 -16
WIRE 544 0 448 0
WIRE 784 0 720 0
WIRE 864 16 864 -160
WIRE 960 16 864 16
WIRE 1200 16 1200 -160
WIRE 1200 16 1136 16
WIRE 448 32 448 0
WIRE 448 32 240 32
WIRE 496 32 496 -160
WIRE 544 32 496 32
WIRE 768 32 720 32
WIRE 1360 32 1360 -160
WIRE 1424 32 1424 -256
WIRE 1488 32 1488 -128
WIRE 1552 32 1552 -192
WIRE 1616 32 1616 -224
WIRE 1680 32 1680 -16
WIRE 848 48 848 -128
WIRE 960 48 848 48
WIRE 1232 48 1232 -192
WIRE 1232 48 1136 48
WIRE -272 64 -272 -80
WIRE -32 64 -272 64
WIRE 544 64 512 64
WIRE 752 64 720 64
WIRE 832 80 832 -96
WIRE 960 80 832 80
WIRE 1232 80 1136 80
WIRE 816 112 816 -64
WIRE 960 112 816 112
WIRE 1200 112 1136 112
WIRE 496 144 496 32
WIRE 544 144 496 144
WIRE 736 144 720 144
WIRE 800 144 800 -32
WIRE 960 144 800 144
WIRE 1264 144 1264 -224
WIRE 1264 144 1136 144
WIRE 544 176 528 176
WIRE 720 176 656 176
WIRE 784 176 784 0
WIRE 960 176 784 176
WIRE 1296 176 1296 -256
WIRE 1296 176 1136 176
WIRE 512 208 512 64
WIRE 544 208 512 208
WIRE 720 208 624 208
WIRE 752 208 752 64
WIRE 960 208 752 208
WIRE 1168 208 1136 208
WIRE 1232 208 1232 80
WIRE 1488 208 1488 176
WIRE 1488 208 1232 208
WIRE 480 240 480 -64
WIRE 544 240 480 240
WIRE 720 240 608 240
WIRE 1200 240 1200 112
WIRE 1552 240 1552 176
WIRE 1552 240 1200 240
WIRE 928 256 928 -208
WIRE 1168 256 1168 208
WIRE 1168 256 928 256
WIRE 464 272 464 -32
WIRE 544 272 464 272
WIRE 720 272 592 272
WIRE 448 304 448 32
WIRE 544 304 448 304
WIRE 720 304 576 304
WIRE 768 304 768 32
WIRE 992 304 768 304
WIRE 1120 304 1072 304
WIRE 496 336 496 144
WIRE 544 336 496 336
WIRE 1120 336 1120 304
WIRE 752 368 752 208
WIRE 752 368 720 368
WIRE 928 400 928 256
WIRE 1072 400 928 400
WIRE 1360 400 1360 176
WIRE 1360 400 1168 400
WIRE -32 448 -32 144
WIRE 272 448 -32 448
WIRE 480 448 480 240
WIRE 480 448 272 448
WIRE 752 448 752 368
WIRE 752 448 480 448
WIRE -32 464 -32 448
WIRE 528 464 528 176
WIRE 992 464 528 464
WIRE 1120 464 1072 464
WIRE 1120 496 1120 464
WIRE 272 560 272 448
WIRE 320 560 272 560
WIRE 432 560 384 560
WIRE 576 560 576 304
WIRE 576 560 512 560
WIRE 928 560 928 400
WIRE 1072 560 928 560
WIRE 1424 560 1424 176
WIRE 1424 560 1168 560
WIRE 736 624 736 144
WIRE 992 624 736 624
WIRE 1120 624 1072 624
WIRE 1120 656 1120 624
WIRE 272 688 272 560
WIRE 320 688 272 688
WIRE 432 688 384 688
WIRE 592 688 592 272
WIRE 592 688 512 688
WIRE 928 720 928 560
WIRE 1072 720 928 720
WIRE 1616 720 1616 176
WIRE 1616 720 1168 720
WIRE 656 784 656 176
WIRE 992 784 656 784
WIRE 1120 784 1072 784
WIRE 272 816 272 688
WIRE 320 816 272 816
WIRE 432 816 384 816
WIRE 608 816 608 240
WIRE 608 816 512 816
WIRE 1120 816 1120 784
WIRE 928 880 928 720
WIRE 1072 880 928 880
WIRE 1680 880 1680 176
WIRE 1680 880 1168 880
WIRE 624 944 624 208
WIRE 992 944 624 944
WIRE 1120 944 1072 944
WIRE 1120 976 1120 944
WIRE 928 1040 928 880
WIRE 1072 1040 928 1040
WIRE 1728 1040 1728 -16
WIRE 1728 1040 1168 1040
FLAG 240 -96 PIN2
IOPIN 240 -96 In
FLAG 240 32 PIN3
IOPIN 240 32 In
FLAG 240 -32 PIN4
IOPIN 240 -32 In
FLAG -32 464 0
FLAG -96 -48 0
FLAG 240 -320 PIN5V
IOPIN 240 -320 Out
SYMBOL voltage -32 48 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value 9
SYMBOL Shift\ register 576 224 M0
SYMATTR InstName X1
SYMBOL Shift\ register 576 -80 M0
SYMATTR InstName X2
SYMBOL led\ display 1552 96 R0
SYMATTR InstName X3
SYMBOL Vreg\\7805 -96 -208 R0
SYMATTR InstName U1
SYMBOL cap -144 -96 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 10µ
SYMATTR SpiceLine V=100
SYMBOL cap 48 -96 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 1µ
SYMBOL ULN2003 1104 64 R0
SYMATTR InstName X4
SYMBOL npn 1072 336 M90
SYMATTR InstName Q1
SYMBOL res 1088 288 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 180
SYMATTR SpiceLine tol=5 pwr=0.25
SYMBOL npn 1072 496 M90
SYMATTR InstName Q2
SYMBOL res 1088 448 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 180
SYMATTR SpiceLine tol=5 pwr=0.25
SYMBOL npn 1072 656 M90
SYMATTR InstName Q3
SYMBOL res 1088 608 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 180
SYMATTR SpiceLine tol=5 pwr=0.25
SYMBOL npn 1072 816 M90
SYMATTR InstName Q4
SYMBOL res 1088 768 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 180
SYMATTR SpiceLine tol=5 pwr=0.25
SYMBOL npn 1072 976 M90
SYMATTR InstName Q5
SYMBOL res 1088 928 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 180
SYMATTR SpiceLine tol=5 pwr=0.25
SYMBOL LED 384 544 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 72 32 VTop 2
SYMATTR InstName Luz_Roja
SYMBOL LED 384 672 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 72 32 VTop 2
SYMATTR InstName Luz_Amarilla
SYMBOL LED 384 800 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 72 32 VTop 2
SYMATTR InstName Luz_Verde
SYMBOL res 528 544 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 180
SYMATTR SpiceLine tol=5 pwr=0.25
SYMBOL res 528 672 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 180
SYMATTR SpiceLine tol=5 pwr=0.25
SYMBOL res 528 800 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 180
SYMATTR SpiceLine tol=5 pwr=0.25
TEXT 1824 -232 Left 2 ;Display tiene resistencias internas.\nAlimentar display directamente.\n \nSEGMENTOS (A B C D E F G):\n-Pueden entregar máximo 100mA. Fácilmente manejados por ULN2003.\nDIGITOS (d1 d2 d3 d4 d5):\n-Pueden consumir máximo 700mA (7 segmentos encendidos a la vez).\n-Shift register no puede suplir esta corriente.\n-Solución: Usar transistores.\n \nTRANSISTOR:\n-PN2222A: Colector hecho para 500mA\n-Solución: poner 2 en paralelo\n \nPoniendo como límite que pasen 800mA por cada dX:\n-Cada par de transistores en paralelo pasará 800mA.\n-Cada transistor debe pasar 400mA.\n-Resistencias dependen del valor del LOAD de los leds\n \nModificación: un solo transistor por dígito. transistor BC337 parece que aguanta :D
